<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Introduction to the tidyverse | Environmental Data Science</title>
  <meta name="description" content="Background, concepts and exercises for environmental data science methods applying the R language and various libraries for data manipulation, data analysis, spatial data/mapping, and time series. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Introduction to the tidyverse | Environmental Data Science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Background, concepts and exercises for environmental data science methods applying the R language and various libraries for data manipulation, data analysis, spatial data/mapping, and time series. The output format for this example is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Introduction to the tidyverse | Environmental Data Science" />
  
  <meta name="twitter:description" content="Background, concepts and exercises for environmental data science methods applying the R language and various libraries for data manipulation, data analysis, spatial data/mapping, and time series. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Jerry Davis" />


<meta name="date" content="2021-03-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introduction-to-r.html"/>
<link rel="next" href="visualization.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Environmental Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Prerequisites</a></li>
<li class="chapter" data-level="2" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>2</b> Introduction to R</a><ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#variables"><i class="fa fa-check"></i><b>2.1</b> Variables</a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#functions"><i class="fa fa-check"></i><b>2.2</b> Functions</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#expressions-and-statements"><i class="fa fa-check"></i><b>2.3</b> Expressions and Statements</a></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-types"><i class="fa fa-check"></i><b>2.4</b> Data Types</a><ul>
<li class="chapter" data-level="2.4.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#integers"><i class="fa fa-check"></i><b>2.4.1</b> Integers</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#rectangular-data"><i class="fa fa-check"></i><b>2.5</b> Rectangular data</a></li>
<li class="chapter" data-level="2.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-structures-in-r"><i class="fa fa-check"></i><b>2.6</b> Data Structures in R</a><ul>
<li class="chapter" data-level="2.6.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#vectors"><i class="fa fa-check"></i><b>2.6.1</b> Vectors</a></li>
<li class="chapter" data-level="2.6.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#lists"><i class="fa fa-check"></i><b>2.6.2</b> Lists</a></li>
<li class="chapter" data-level="2.6.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#matrices"><i class="fa fa-check"></i><b>2.6.3</b> Matrices</a></li>
<li class="chapter" data-level="2.6.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-frames"><i class="fa fa-check"></i><b>2.6.4</b> Data frames</a></li>
<li class="chapter" data-level="2.6.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#factors"><i class="fa fa-check"></i><b>2.6.5</b> Factors</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#programming-and-logic"><i class="fa fa-check"></i><b>2.7</b> Programming and Logic</a><ul>
<li class="chapter" data-level="2.7.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#subsetting-with-logic"><i class="fa fa-check"></i><b>2.7.1</b> Subsetting with logic</a></li>
<li class="chapter" data-level="2.7.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#apply-functions"><i class="fa fa-check"></i><b>2.7.2</b> Apply functions</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="introduction-to-r.html"><a href="introduction-to-r.html#exercises"><i class="fa fa-check"></i><b>2.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html"><i class="fa fa-check"></i><b>3</b> Introduction to the tidyverse</a><ul>
<li class="chapter" data-level="3.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#background-exploratory-data-analysis"><i class="fa fa-check"></i><b>3.1</b> Background: Exploratory Data Analysis</a></li>
<li class="chapter" data-level="3.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#the-tidyverse-and-what-well-explore-in-this-chapter"><i class="fa fa-check"></i><b>3.2</b> The Tidyverse and what we’ll explore in this chapter</a></li>
<li class="chapter" data-level="3.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#tibbles"><i class="fa fa-check"></i><b>3.3</b> Tibbles</a><ul>
<li class="chapter" data-level="3.3.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#read_csv-vs.-read.csv"><i class="fa fa-check"></i><b>3.3.1</b> <code>read_csv</code> vs. <code>read.csv</code></a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#statistical-summary-of-variables"><i class="fa fa-check"></i><b>3.4</b> Statistical summary of variables</a></li>
<li class="chapter" data-level="3.5" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#visualizing-data-with-a-tukey-box-plot"><i class="fa fa-check"></i><b>3.5</b> Visualizing data with a Tukey box plot</a></li>
<li class="chapter" data-level="3.6" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#database-operations-with-dplyr"><i class="fa fa-check"></i><b>3.6</b> Database operations with <code>dplyr</code></a><ul>
<li class="chapter" data-level="3.6.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#select-mutate-and-the-pipe"><i class="fa fa-check"></i><b>3.6.1</b> Select, mutate, and the pipe</a></li>
<li class="chapter" data-level="3.6.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#filter"><i class="fa fa-check"></i><b>3.6.2</b> filter</a></li>
<li class="chapter" data-level="3.6.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#writing-a-data-frame-to-a-csv"><i class="fa fa-check"></i><b>3.6.3</b> Writing a data frame to a csv</a></li>
<li class="chapter" data-level="3.6.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#summarize-by-group"><i class="fa fa-check"></i><b>3.6.4</b> Summarize by group</a></li>
<li class="chapter" data-level="3.6.5" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#count"><i class="fa fa-check"></i><b>3.6.5</b> Count</a></li>
<li class="chapter" data-level="3.6.6" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#sorting-after-summarizing"><i class="fa fa-check"></i><b>3.6.6</b> Sorting after summarizing</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#the-dot-operator"><i class="fa fa-check"></i><b>3.7</b> The dot operator</a></li>
<li class="chapter" data-level="3.8" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#exercises-1"><i class="fa fa-check"></i><b>3.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="visualization.html"><a href="visualization.html"><i class="fa fa-check"></i><b>4</b> Visualization</a></li>
<li class="chapter" data-level="5" data-path="spatial-r.html"><a href="spatial-r.html"><i class="fa fa-check"></i><b>5</b> Spatial R</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Environmental Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction-to-the-tidyverse" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Introduction to the tidyverse</h1>
<p>At this point, we’ve learned the basics of working with the R language. From here we’ll want to explore how to analyze data, both statistically and spatially. We’re going to use an exploratory approach with significant application of visualization both in terms of graphs as well as maps. So let’s start by exploring this exploratory approach…</p>
<div id="background-exploratory-data-analysis" class="section level2">
<h2><span class="header-section-number">3.1</span> Background: Exploratory Data Analysis</h2>
<p>In 1961, John Tukey proposed a new approach to data analysis, defining it as “Procedures for analyzing data, techniques for interpreting the results of such procedures, ways of planning the gathering of data to make its analysis easier, more precise or more accurate, and all the machinery and results of (mathematical) statistics which apply to analyzing data.”<br />
<img src="img/Tukey1961.png" width="161" height="230" style="horizontal-align:right">He followed this up in 1977 with <em>Exploratory Data Analysis</em>.</p>
<p>Exploratory data analysis (EDA) in part as an approach to analyzing data via summaries and graphics. The key word is <em>exploratory</em>, in contrast with <em>confirmatory</em> statistics. Both are important, but ignoring exploration is ignoring enlightenment.</p>
<p>Some purposes of EDA are:</p>
<ul>
<li>to suggest hypotheses</li>
<li>to assess assumptions on which inference will be based</li>
<li>to select appropriate inferential statistical tools</li>
<li>to guide further data collection</li>
</ul>
<p>These concepts led to the development of S at Bell Labs (John Chambers, 1976), then R, built on clear design and extensive, clear graphics.</p>
</div>
<div id="the-tidyverse-and-what-well-explore-in-this-chapter" class="section level2">
<h2><span class="header-section-number">3.2</span> The Tidyverse and what we’ll explore in this chapter</h2>
<p>The Tidyverse refers to a suite of R packages developed at RStudio (see <a href="https://rstudio.com">R Studio</a> and <a href="https://r4ds.had.co.nz">R for Data Science</a>) <img src="img/R4DataSciProcess.png" alt="R for Data Science Process" width="280" height="110"> (figure from Grolemund &amp; Wickham 2017) for facilitating data processing and analysis. While R itself is designed around EDA, the Tidyverse takes it further. Some of the packages in the Tidyverse that are widely used are:</p>
<ul>
<li>dplyr : data manipulation like a database</li>
<li>readr : better methods for reading and writing rectangular data</li>
<li>tidyr : reorganization methods that extend dplyr’s database capabilities</li>
<li>purrr : expanded programming toolkit including enhanced “apply” methods</li>
<li>tibble : improved data frame</li>
<li>stringr : string manipulation library</li>
<li>ggplot2 : graphing system based on “the grammar of graphics”</li>
</ul>
<p>In this chapter, we’ll be mostly exploring <strong>dplyr</strong>, with a few other things thrown in like reading data frames with <strong>readr</strong>. For simplicity, we can just include <code>library(tidyverse)</code> to get everything.</p>
</div>
<div id="tibbles" class="section level2">
<h2><span class="header-section-number">3.3</span> Tibbles</h2>
<p>Tibbles are an improved type of data frame</p>
<ul>
<li>part of the Tidyverse</li>
<li>serve the same as a data frame, all data frame operations work</li>
</ul>
<p>Advantages</p>
<ul>
<li>display better</li>
<li>can be composed of more complex objects like lists, etc.</li>
<li>can be grouped</li>
</ul>
<p>How created</p>
<ul>
<li>Variety of Tidyverse functions similarly named to base functions:
<ul>
<li><code>read_csv</code> creates a tibble</li>
<li><code>read.csv</code> creates a regular data frame</li>
</ul></li>
<li>In general, underscores are used instead of dots in the Tidyverse…</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="introduction-to-the-tidyverse.html#cb1-1"></a><span class="kw">library</span>(tidyverse) <span class="co"># includes readr, ggplot2, and dplyr which we&#39;ll use in this chapter</span></span></code></pre></div>
<pre><code>## -- Attaching packages ------------------------------------------------------------------------------------------------------------ tidyverse 1.3.0 --</code></pre>
<pre><code>## v ggplot2 3.3.2     v purrr   0.3.4
## v tibble  3.0.3     v dplyr   1.0.2
## v tidyr   1.1.2     v stringr 1.4.0
## v readr   1.3.1     v forcats 0.5.0</code></pre>
<pre><code>## -- Conflicts --------------------------------------------------------------------------------------------------------------- tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="introduction-to-the-tidyverse.html#cb5-1"></a>runoff20062007 &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/eucoakrainfallrunoffTDR.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   site = col_character(),
##   `site #` = col_double(),
##   date = col_character(),
##   month = col_character(),
##   rain_mm = col_double(),
##   rain_oak = col_double(),
##   rain_euc = col_double(),
##   runoffL_oak = col_double(),
##   runoffL_euc = col_double(),
##   slope_oak = col_double(),
##   slope_euc = col_double(),
##   aspect_oak = col_double(),
##   aspect_euc = col_double(),
##   surface_tension_oak = col_double(),
##   surface_tension_euc = col_double(),
##   runoff_rainfall_ratio_oak = col_double(),
##   runoff_rainfall_ratio_euc = col_double()
## )</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="introduction-to-the-tidyverse.html#cb7-1"></a>runoff20062007</span></code></pre></div>
<pre><code>## # A tibble: 90 x 17
##    site  `site #` date  month rain_mm rain_oak rain_euc runoffL_oak runoffL_euc
##    &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;   &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;
##  1 AB1          1 11/8~ 11/6~      29       28       30        4.79        6.7 
##  2 AB1          1 11/1~ 11/6~      22       19       18        3.2         4.3 
##  3 AB1          1 11/2~ 11/6~      85       62       68        9.7        16   
##  4 AB1          1 12/1~ 12/6~      82       93       82       14          14.2 
##  5 AB1          1 12/2~ 12/6~      43       61       47        9.75        4.33
##  6 AB1          1 1/29~ 1/7/~       7       98       10        1.4         0   
##  7 AB1          1 2/9/~ 2/7/~      56       45       43       10.1         0   
##  8 AB1          1 2/13~ 2/7/~      63       41       44        3.90        1.40
##  9 AB1          1 2/28~ 2/7/~      NA       56       56        4.75        8.65
## 10 AB1          1 3/22~ 3/7/~      NA        1        3       NA           0.11
## # ... with 80 more rows, and 8 more variables: slope_oak &lt;dbl&gt;,
## #   slope_euc &lt;dbl&gt;, aspect_oak &lt;dbl&gt;, aspect_euc &lt;dbl&gt;,
## #   surface_tension_oak &lt;dbl&gt;, surface_tension_euc &lt;dbl&gt;,
## #   runoff_rainfall_ratio_oak &lt;dbl&gt;, runoff_rainfall_ratio_euc &lt;dbl&gt;</code></pre>
<div id="read_csv-vs.-read.csv" class="section level3">
<h3><span class="header-section-number">3.3.1</span> <code>read_csv</code> vs. <code>read.csv</code></h3>
<p>You might be tempted to use read.csv from base R</p>
<ul>
<li>They look a lot alike, so you might confuse them</li>
<li>You don’t need to load library(readr)</li>
<li>read.csv “fixes” some things and that might be desired:
problematic field names like <code>MLY-TAVG-NORMAL</code> become <code>MLY.TAVG.NORMAL</code></li>
<li>numbers stored as characters are converted to numbers
“01” becomes 1, “02” becomes 2, etc.</li>
</ul>
<p>However, there are potential problems</p>
<ul>
<li>You may not want some of those changes, and want to specify those changes separately</li>
<li>There are known problems that read_csv avoids</li>
</ul>
<p>Recommendation: Use <code>read_csv</code> and <code>write_csv</code>.</p>
</div>
</div>
<div id="statistical-summary-of-variables" class="section level2">
<h2><span class="header-section-number">3.4</span> Statistical summary of variables</h2>
<p>A simple statistical summary is very easy to do:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="introduction-to-the-tidyverse.html#cb9-1"></a><span class="kw">summary</span>(runoff20062007)</span></code></pre></div>
<pre><code>##      site               site #          date              month          
##  Length:90          Min.   :1.000   Length:90          Length:90         
##  Class :character   1st Qu.:2.000   Class :character   Class :character  
##  Mode  :character   Median :4.000   Mode  :character   Mode  :character  
##                     Mean   :4.422                                        
##                     3rd Qu.:6.000                                        
##                     Max.   :8.000                                        
##                                                                          
##     rain_mm         rain_oak        rain_euc      runoffL_oak    
##  Min.   : 1.00   Min.   : 1.00   Min.   : 1.00   Min.   : 0.000  
##  1st Qu.:16.00   1st Qu.:16.00   1st Qu.:14.75   1st Qu.: 0.000  
##  Median :28.50   Median :30.50   Median :30.00   Median : 0.450  
##  Mean   :37.99   Mean   :35.08   Mean   :34.60   Mean   : 2.032  
##  3rd Qu.:63.25   3rd Qu.:50.50   3rd Qu.:50.00   3rd Qu.: 2.800  
##  Max.   :99.00   Max.   :98.00   Max.   :96.00   Max.   :14.000  
##  NA&#39;s   :18      NA&#39;s   :2       NA&#39;s   :2       NA&#39;s   :5       
##   runoffL_euc      slope_oak       slope_euc       aspect_oak   
##  Min.   : 0.00   Min.   : 9.00   Min.   : 9.00   Min.   :100.0  
##  1st Qu.: 0.07   1st Qu.:12.00   1st Qu.:12.00   1st Qu.:143.0  
##  Median : 1.20   Median :24.50   Median :23.00   Median :189.0  
##  Mean   : 2.45   Mean   :21.62   Mean   :19.34   Mean   :181.9  
##  3rd Qu.: 3.30   3rd Qu.:30.50   3rd Qu.:25.00   3rd Qu.:220.0  
##  Max.   :16.00   Max.   :32.00   Max.   :31.00   Max.   :264.0  
##  NA&#39;s   :3                                                      
##    aspect_euc    surface_tension_oak surface_tension_euc
##  Min.   :106.0   Min.   :37.40       Min.   :28.51      
##  1st Qu.:175.0   1st Qu.:72.75       1st Qu.:32.79      
##  Median :196.5   Median :72.75       Median :37.40      
##  Mean   :191.2   Mean   :68.35       Mean   :43.11      
##  3rd Qu.:224.0   3rd Qu.:72.75       3rd Qu.:56.41      
##  Max.   :296.0   Max.   :72.75       Max.   :72.75      
##                  NA&#39;s   :22          NA&#39;s   :22         
##  runoff_rainfall_ratio_oak runoff_rainfall_ratio_euc
##  Min.   :0.00000           Min.   :0.000000         
##  1st Qu.:0.00000           1st Qu.:0.003027         
##  Median :0.02046           Median :0.047619         
##  Mean   :0.05357           Mean   :0.065902         
##  3rd Qu.:0.08485           3rd Qu.:0.083603         
##  Max.   :0.42000           Max.   :0.335652         
##  NA&#39;s   :5                 NA&#39;s   :3</code></pre>
</div>
<div id="visualizing-data-with-a-tukey-box-plot" class="section level2">
<h2><span class="header-section-number">3.5</span> Visualizing data with a Tukey box plot</h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="introduction-to-the-tidyverse.html#cb11-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> runoff20062007) <span class="op">+</span><span class="st"> </span><span class="kw">geom_boxplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x=</span>site, <span class="dt">y=</span>runoffL_euc))</span></code></pre></div>
<pre><code>## Warning: Removed 3 rows containing non-finite values (stat_boxplot).</code></pre>
<p><img src="EnvDataSci_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
</div>
<div id="database-operations-with-dplyr" class="section level2">
<h2><span class="header-section-number">3.6</span> Database operations with <code>dplyr</code></h2>
<p>As part of exploring our data, we’ll typically simplify or reduce it for our purposes.
The following methods are quickly discovered to be essential as part of exploring and analyzing data.</p>
<ul>
<li><strong>select rows</strong> using logic, such as population &gt; 10000, with <code>filter</code></li>
<li><strong>select variable columns</strong> you want to retain with <code>select</code></li>
<li><strong>add</strong> new variables and assign their values with <code>mutate</code></li>
<li><strong>sort</strong> rows based on a a field with <code>arrange</code></li>
<li><strong>summarize</strong> by group</li>
</ul>
<div id="select-mutate-and-the-pipe" class="section level3">
<h3><span class="header-section-number">3.6.1</span> Select, mutate, and the pipe</h3>
<p><strong>The pipe <code>%&gt;%</code></strong>: Read <code>%&gt;%</code> as “and then…” This is bigger than it sounds and opens up a lot of possibilities. See example below, and observe how the expression becomes several lines long. In the process, we’ll see examples of new variables with mutate and selecting (and in the process <em>ordering</em>) variables:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="introduction-to-the-tidyverse.html#cb13-1"></a>runoff &lt;-<span class="st"> </span>runoff20062007 <span class="op">%&gt;%</span></span>
<span id="cb13-2"><a href="introduction-to-the-tidyverse.html#cb13-2"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Date =</span> <span class="kw">as.Date</span>(date,<span class="st">&quot;%m/%d/%Y&quot;</span>),</span>
<span id="cb13-3"><a href="introduction-to-the-tidyverse.html#cb13-3"></a>         <span class="dt">rain_subcanopy =</span> (rain_oak <span class="op">+</span><span class="st"> </span>rain_euc)<span class="op">/</span><span class="dv">2</span>) <span class="op">%&gt;%</span></span>
<span id="cb13-4"><a href="introduction-to-the-tidyverse.html#cb13-4"></a><span class="st">  </span><span class="kw">select</span>(site, Date, rain_mm, rain_subcanopy, </span>
<span id="cb13-5"><a href="introduction-to-the-tidyverse.html#cb13-5"></a>         runoffL_oak, runoffL_euc, slope_oak, slope_euc)</span>
<span id="cb13-6"><a href="introduction-to-the-tidyverse.html#cb13-6"></a>runoff</span></code></pre></div>
<pre><code>## # A tibble: 90 x 8
##    site  Date       rain_mm rain_subcanopy runoffL_oak runoffL_euc slope_oak
##    &lt;chr&gt; &lt;date&gt;       &lt;dbl&gt;          &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;
##  1 AB1   2006-11-08      29           29          4.79        6.7         32
##  2 AB1   2006-11-12      22           18.5        3.2         4.3         32
##  3 AB1   2006-11-29      85           65          9.7        16           32
##  4 AB1   2006-12-12      82           87.5       14          14.2         32
##  5 AB1   2006-12-28      43           54          9.75        4.33        32
##  6 AB1   2007-01-29       7           54          1.4         0           32
##  7 AB1   2007-02-09      56           44         10.1         0           32
##  8 AB1   2007-02-13      63           42.5        3.90        1.40        32
##  9 AB1   2007-02-28      NA           56          4.75        8.65        32
## 10 AB1   2007-03-22      NA            2         NA           0.11        32
## # ... with 80 more rows, and 1 more variable: slope_euc &lt;dbl&gt;</code></pre>
<p><em>Note: to just rename a variable, use <code>rename</code> instead of <code>mutate</code>. It will stay in position.</em></p>
</div>
<div id="filter" class="section level3">
<h3><span class="header-section-number">3.6.2</span> filter</h3>
<p><code>filter</code> lets you select observations that meet criteria, similar to an SQL WHERE clause.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="introduction-to-the-tidyverse.html#cb15-1"></a>runoff2007 &lt;-<span class="st"> </span>runoff <span class="op">%&gt;%</span></span>
<span id="cb15-2"><a href="introduction-to-the-tidyverse.html#cb15-2"></a><span class="st">  </span><span class="kw">filter</span>(Date <span class="op">&gt;=</span><span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&quot;01/01/2007&quot;</span>, <span class="st">&quot;%m/%d/%Y&quot;</span>))</span>
<span id="cb15-3"><a href="introduction-to-the-tidyverse.html#cb15-3"></a>runoff2007</span></code></pre></div>
<pre><code>## # A tibble: 51 x 8
##    site  Date       rain_mm rain_subcanopy runoffL_oak runoffL_euc slope_oak
##    &lt;chr&gt; &lt;date&gt;       &lt;dbl&gt;          &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;
##  1 AB1   2007-01-29       7           54          1.4         0           32
##  2 AB1   2007-02-09      56           44         10.1         0           32
##  3 AB1   2007-02-13      63           42.5        3.90        1.40        32
##  4 AB1   2007-02-28      NA           56          4.75        8.65        32
##  5 AB1   2007-03-22      NA            2         NA           0.11        32
##  6 AB1   2007-04-23      NA           33.5        6.94        9.20        32
##  7 AB1   2007-05-05      NA           31          6.34        7.43        32
##  8 AB2   2007-01-29       4            3.5        1.26        0.05        24
##  9 AB2   2007-02-09      37           41.5        6.3         3.3         24
## 10 AB2   2007-02-13      43           49.5        6.78        1.14        24
## # ... with 41 more rows, and 1 more variable: slope_euc &lt;dbl&gt;</code></pre>
<p><strong>Filtering out NA with <code>!is.na</code></strong></p>
<p>Here’s an important one. There are many times you need to avoid NAs.<br />
We commonly see summary statistics using <code>na.rm = TRUE</code> in order to <em>ignore</em> NAs when calculating a statistic like <code>mean</code>.</p>
<p>To simply filter out NAs from a vector or a variable use a filter:
<code>feb_filt &lt;- feb_s %&gt;% filter(!is.na(TEMP))</code></p>
</div>
<div id="writing-a-data-frame-to-a-csv" class="section level3">
<h3><span class="header-section-number">3.6.3</span> Writing a data frame to a csv</h3>
<p>Let’s say you have created a data frame, maybe with read_csv</p>
<p><code>runoff20062007 &lt;- read_csv("data/eucoakrainfallrunoffTDR.csv")</code></p>
<p>Then you do some processing to change it, maybe adding variables, reorganizing, etc., and you want to write out your new <code>eucoak</code>, so you just need to use <code>write_csv</code></p>
<p><code>write_csv(eucoak, "data/tidy_eucoak.csv")</code></p>
</div>
<div id="summarize-by-group" class="section level3">
<h3><span class="header-section-number">3.6.4</span> Summarize by group</h3>
<p>You’ll find that you need to use this all the time with real data. You have a bunch of data where some categorical variable is defining a grouping, like our site field in the eucoak data. We’d like to just create average slope, rainfall, and runoff for each site. Note that it involves two steps, first defining which field defines the group, then the various summary statistics we’d like to store. In this case all of the slopes under oak remain the same for a given site – it’s a <em>site</em> characteristic – and the same applies to the euc site, so we can just grab the first value (mean would have also worked of course).</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="introduction-to-the-tidyverse.html#cb17-1"></a>eucoakSiteAvg &lt;-<span class="st"> </span>runoff <span class="op">%&gt;%</span></span>
<span id="cb17-2"><a href="introduction-to-the-tidyverse.html#cb17-2"></a><span class="st">  </span><span class="kw">group_by</span>(site) <span class="op">%&gt;%</span></span>
<span id="cb17-3"><a href="introduction-to-the-tidyverse.html#cb17-3"></a><span class="st">  </span><span class="kw">summarize</span>(</span>
<span id="cb17-4"><a href="introduction-to-the-tidyverse.html#cb17-4"></a>    <span class="dt">rain =</span> <span class="kw">mean</span>(rain_mm, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</span>
<span id="cb17-5"><a href="introduction-to-the-tidyverse.html#cb17-5"></a>    <span class="dt">rain_subcanopy =</span> <span class="kw">mean</span>(rain_subcanopy, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</span>
<span id="cb17-6"><a href="introduction-to-the-tidyverse.html#cb17-6"></a>    <span class="dt">runoffL_oak =</span> <span class="kw">mean</span>(runoffL_oak, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</span>
<span id="cb17-7"><a href="introduction-to-the-tidyverse.html#cb17-7"></a>    <span class="dt">runoffL_euc =</span> <span class="kw">mean</span>(runoffL_euc, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</span>
<span id="cb17-8"><a href="introduction-to-the-tidyverse.html#cb17-8"></a>    <span class="dt">slope_oak =</span> <span class="kw">first</span>(slope_oak),</span>
<span id="cb17-9"><a href="introduction-to-the-tidyverse.html#cb17-9"></a>    <span class="dt">slope_euc =</span> <span class="kw">first</span>(slope_euc)</span>
<span id="cb17-10"><a href="introduction-to-the-tidyverse.html#cb17-10"></a>  )</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="introduction-to-the-tidyverse.html#cb19-1"></a>eucoakSiteAvg</span></code></pre></div>
<pre><code>## # A tibble: 8 x 7
##   site   rain rain_subcanopy runoffL_oak runoffL_euc slope_oak slope_euc
##   &lt;chr&gt; &lt;dbl&gt;          &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 AB1    48.4           43.1      6.80         6.03       32          31
## 2 AB2    34.1           35.4      4.91         3.65       24          25
## 3 KM1    48             36.1      1.94         0.592      30.5        25
## 4 PR1    56.5           37.6      0.459        2.31       27          23
## 5 TP1    38.4           30.0      0.877        1.66        9           9
## 6 TP2    34.3           32.9      0.0955       1.53       12          10
## 7 TP3    32.1           27.8      0.381        0.815      25          18
## 8 TP4    32.5           35.7      0.231        2.83       12          12</code></pre>
</div>
<div id="count" class="section level3">
<h3><span class="header-section-number">3.6.5</span> Count</h3>
<p>Count is a simple variant on summarize by group, since the only statistic is the count of events.
(The following data is from Claudia Engel (2021) <em>Data Wrangling with R</em>.)</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="introduction-to-the-tidyverse.html#cb21-1"></a><span class="kw">library</span>(lubridate)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;lubridate&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     date, intersect, setdiff, union</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="introduction-to-the-tidyverse.html#cb24-1"></a>trafficStops &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/MS_trafficstops_bw_age.csv&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb24-2"><a href="introduction-to-the-tidyverse.html#cb24-2"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="kw">year</span>(stop_date))</span></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   id = col_character(),
##   state = col_character(),
##   stop_date = col_date(format = &quot;&quot;),
##   county_name = col_character(),
##   county_fips = col_double(),
##   police_department = col_character(),
##   driver_gender = col_character(),
##   driver_birthdate = col_date(format = &quot;&quot;),
##   driver_race = col_character(),
##   violation_raw = col_character(),
##   officer_id = col_character(),
##   driver_age = col_double(),
##   violation = col_character()
## )</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="introduction-to-the-tidyverse.html#cb26-1"></a>trafficCounts &lt;-<span class="st"> </span>trafficStops <span class="op">%&gt;%</span></span>
<span id="cb26-2"><a href="introduction-to-the-tidyverse.html#cb26-2"></a><span class="st">  </span><span class="kw">count</span>(year,violation_raw)</span>
<span id="cb26-3"><a href="introduction-to-the-tidyverse.html#cb26-3"></a>trafficCounts</span></code></pre></div>
<pre><code>## # A tibble: 74 x 3
##     year violation_raw                                              n
##    &lt;dbl&gt; &lt;chr&gt;                                                  &lt;int&gt;
##  1  2013 ??                                                      5018
##  2  2013 Careless driving                                         607
##  3  2013 Child or youth restraint not used properly as required  1313
##  4  2013 Driving while license suspended                         3258
##  5  2013 Driving wrong way                                         40
##  6  2013 Expired or no non-commercial driver license or permit   1433
##  7  2013 Failure to comply with financial responsibility law        1
##  8  2013 Failure to maintain required liability insurance        7096
##  9  2013 Failure to obey sign or traffic control device           607
## 10  2013 Failure to yield right of way (FTY ROW)                  292
## # ... with 64 more rows</code></pre>
<p><strong>Another way to do the trafficCounts calculation is to use n():</strong></p>
<pre><code>trafficCounts &lt;- trafficStops %&gt;%
  group_by(year,violation_raw) %&gt;%
  summarize(n = n())</code></pre>
</div>
<div id="sorting-after-summarizing" class="section level3">
<h3><span class="header-section-number">3.6.6</span> Sorting after summarizing</h3>
<p>Using the marine debris data from NOAA Marine Debris Program’s <em>Marine Debris Monitoring and Assessment Project</em></p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="introduction-to-the-tidyverse.html#cb29-1"></a>shorelineLatLong &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/ConcentrationReport.csv&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb29-2"><a href="introduction-to-the-tidyverse.html#cb29-2"></a><span class="st">  </span><span class="kw">group_by</span>(<span class="st">`</span><span class="dt">Shoreline Name</span><span class="st">`</span>) <span class="op">%&gt;%</span></span>
<span id="cb29-3"><a href="introduction-to-the-tidyverse.html#cb29-3"></a><span class="st">  </span><span class="kw">summarize</span>(</span>
<span id="cb29-4"><a href="introduction-to-the-tidyverse.html#cb29-4"></a>    <span class="dt">latitude =</span> <span class="kw">mean</span>((<span class="st">`</span><span class="dt">Latitude Start</span><span class="st">`</span><span class="op">+</span><span class="st">`</span><span class="dt">Latitude End</span><span class="st">`</span>)<span class="op">/</span><span class="dv">2</span>),</span>
<span id="cb29-5"><a href="introduction-to-the-tidyverse.html#cb29-5"></a>    <span class="dt">longitude =</span> <span class="kw">mean</span>((<span class="st">`</span><span class="dt">Longitude Start</span><span class="st">`</span><span class="op">+</span><span class="st">`</span><span class="dt">Longitude End</span><span class="st">`</span>)<span class="op">/</span><span class="dv">2</span>)</span>
<span id="cb29-6"><a href="introduction-to-the-tidyverse.html#cb29-6"></a>  ) <span class="op">%&gt;%</span></span>
<span id="cb29-7"><a href="introduction-to-the-tidyverse.html#cb29-7"></a><span class="st">  </span><span class="kw">arrange</span>(latitude)</span></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   .default = col_double(),
##   `Survey Type` = col_character(),
##   Organization = col_character(),
##   Date = col_character(),
##   `Survey Year` = col_character(),
##   Country = col_character(),
##   State = col_character(),
##   County = col_character(),
##   `Shoreline Name` = col_character(),
##   `Start Time` = col_time(format = &quot;&quot;),
##   `End Time` = col_time(format = &quot;&quot;),
##   `Time of Low Tide` = col_character(),
##   `Database Season` = col_character(),
##   Season = col_character(),
##   `Date of Previous Survey` = col_character(),
##   `Storm Activity` = col_character(),
##   `Current Weather` = col_character(),
##   `Large Items?` = col_character(),
##   `Debris Behind Back Barrier?` = col_character(),
##   Notes = col_character(),
##   `Photos?` = col_character()
##   # ... with 54 more columns
## )</code></pre>
<pre><code>## See spec(...) for full column specifications.</code></pre>
<pre><code>## Warning: 1 parsing failure.
## row col    expected      actual                           file
## 390  -- 194 columns 195 columns &#39;data/ConcentrationReport.csv&#39;</code></pre>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="introduction-to-the-tidyverse.html#cb34-1"></a>shorelineLatLong</span></code></pre></div>
<pre><code>## # A tibble: 38 x 3
##    `Shoreline Name`   latitude longitude
##    &lt;chr&gt;                 &lt;dbl&gt;     &lt;dbl&gt;
##  1 Aimee Arvidson         33.6     -118.
##  2 Balboa Pier #2         33.6     -118.
##  3 Bolsa Chica            33.7     -118.
##  4 Junipero Beach         33.8     -118.
##  5 Malaga Cove            33.8     -118.
##  6 Zuma Beach, Malibu     34.0     -119.
##  7 Zuma Beach             34.0     -119.
##  8 Will Rodgers           34.0     -119.
##  9 Carbon Beach           34.0     -119.
## 10 Nicholas Canyon        34.0     -119.
## # ... with 28 more rows</code></pre>
</div>
</div>
<div id="the-dot-operator" class="section level2">
<h2><span class="header-section-number">3.7</span> The dot operator</h2>
<p>The dot “.” operator derives from UNIX syntax, and refers to “here”.</p>
<ul>
<li>For accessing files in the current folder, the path is “./filename”</li>
</ul>
<p>A similar specification is used in piped sequences</p>
<ul>
<li>The advantage of the pipe is you don’t have to keep referencing the data frame.</li>
<li>The dot is then used to connect to items inside the data frame:</li>
</ul>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="introduction-to-the-tidyverse.html#cb36-1"></a>TRI87 &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/TRI_1987_BaySites.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   TRI_FACILITY_ID = col_character(),
##   count = col_double(),
##   FACILITY_NAME = col_character(),
##   COUNTY = col_character(),
##   air_releases = col_double(),
##   fugitive_air = col_double(),
##   stack_air = col_double(),
##   LATITUDE = col_double(),
##   LONGITUDE = col_double()
## )</code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="introduction-to-the-tidyverse.html#cb38-1"></a>stackrate &lt;-<span class="st"> </span>TRI87 <span class="op">%&gt;%</span></span>
<span id="cb38-2"><a href="introduction-to-the-tidyverse.html#cb38-2"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">stackrate =</span> stack_air<span class="op">/</span>air_releases) <span class="op">%&gt;%</span></span>
<span id="cb38-3"><a href="introduction-to-the-tidyverse.html#cb38-3"></a><span class="st">  </span>.<span class="op">$</span>stackrate</span>
<span id="cb38-4"><a href="introduction-to-the-tidyverse.html#cb38-4"></a><span class="kw">head</span>(stackrate)</span></code></pre></div>
<pre><code>## [1] 0.0000000 0.0000000 0.0000000 0.0000000 0.6666667 1.0000000</code></pre>
</div>
<div id="exercises-1" class="section level2">
<h2><span class="header-section-number">3.8</span> Exercises</h2>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction-to-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="visualization.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["EnvDataSci.pdf", "EnvDataSci.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
